<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">



<title>[자바스크립트] 데이터 관리 object, array | Ryan Lee</title>



    <link rel="icon" href="/favicon.ico">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    


</head>
<body>
    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">Bentham&#39;s Blog</a></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/category">Categories</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
                <input id="switch_default" type="checkbox" class="switch_default">
                <label for="switch_default" class="toggleBtn"></label>
            </div>

        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">Bentham&#39;s Blog</a><a id="mobile-toggle-theme">·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
            </div>
            <div class="menu" id="mobile-menu">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/category">Categories</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
            </div>
        </div>
    </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
        <div class="main">
            <div class="container">
    
    
        <div id="post-toc" class="post-toc">
            <span class="post-toc-title">catalogue</span>
            <div class="post-toc-content">
                <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#JSON"><span class="toc-text">JSON</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#For-in-loop"><span class="toc-text">For..in loop</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Merge-two-arrays"><span class="toc-text">Merge two arrays</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Converting-a-JS-object-to-an-array"><span class="toc-text">Converting a JS object to an array</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Creating-an-array-of-objects"><span class="toc-text">Creating an array of objects</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#객체복사하기"><span class="toc-text">객체복사하기</span></a></li></ol>
            </div>
        </div>
    
    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">[자바스크립트] 데이터 관리 object, array</h1>
            
                <div class="post-meta">
                    
                        Author: <a itemprop="author" rel="author" href="/">Ryan Lee</a>
                    

                    
                        <span class="post-time">
                        Date: <a href="#">November 15, 2017&nbsp;&nbsp;14:08:41</a>
                        </span>
                    
                    
                </div>
            
        </header>

        <section class="post-content">
            <h3 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h3><p>JSON is a syntax for storing and exchanging data. JSON is text, and we can convert any JavaScript object into JSON, and send JSON to the server. If you receive data in JSON format, you can convert it into a JavaScript object:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myObj = &#123; <span class="string">"name"</span>:<span class="string">"John"</span>, <span class="string">"age"</span>:<span class="number">31</span>, <span class="string">"city"</span>:<span class="string">"New York"</span> &#125;;</span><br><span class="line"><span class="keyword">var</span> myJSON = <span class="built_in">JSON</span>.stringify(myObj);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> myJSON = <span class="string">'&#123; "name":"John", "age":31, "city":"New York" &#125;'</span>;</span><br><span class="line"><span class="keyword">var</span> myObj = <span class="built_in">JSON</span>.parse(myJSON);</span><br></pre></td></tr></table></figure></p>
<h3 id="For-in-loop"><a href="#For-in-loop" class="headerlink" title="For..in loop"></a>For..in loop</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> charactersBooks = &#123;</span><br><span class="line">    Frodo: <span class="string">"Lord of the Rings"</span>,</span><br><span class="line">    Aslan: <span class="string">"Chronicles of Narnia"</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> characters = [ ];</span><br><span class="line"><span class="keyword">var</span> title = [ ];</span><br><span class="line"></span><br><span class="line"><span class="comment">// get key</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> charactersBooks) &#123;</span><br><span class="line">    <span class="keyword">if</span> (charactersBooks.hasOwnProperty(key)) &#123;</span><br><span class="line">        characters.push(key);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// get value</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> charactersBooks) &#123;</span><br><span class="line">    <span class="keyword">if</span> (charactersBooks.hasOwnProperty(key)) &#123;</span><br><span class="line">        title.push(charactersBooks[key]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// result</span></span><br><span class="line"><span class="built_in">console</span>.log(characters); <span class="comment">// ["Frodo", "Aslan"]</span></span><br><span class="line"><span class="built_in">console</span>.log(title); <span class="comment">// ["Lord of the Rings", "Chronicles of Narnia"]</span></span><br></pre></td></tr></table></figure>
<p>charactersBooks 이라는 객체가 있습니다. 이 객체는 주인공과 책 제목을 프로퍼티로 가지고 있습니다. 이제 characters와 title 두 배열에 주인공과 책 제목을 추가 하도록 하겠습니다. 객체의 key와  value값을 가져오는 방법은 매우 다양합니다. 저희가 사용할 방법은 <strong>for..in</strong> 반복문 입니다. 반복문과 함께 <strong>hasOwnProperty</strong>도 사용하도록 하겠습니다. 이 메소드는 객체가 특정 프로퍼티를 자기만의 직접적인 프로퍼티로서 소유하고 있는지를 판단하는데 사용됩니다.  <strong>in</strong> 연산과는 다르게, 이 메소드는 객체의 프로토타입 체인을 확인하지 않습니다. (<a href="http://adripofjavascript.com/blog/drips/the-uses-of-in-vs-hasownproperty.html" target="_blank" rel="external">in과 hasOwnProperty 사용법</a>)</p>
<h3 id="Merge-two-arrays"><a href="#Merge-two-arrays" class="headerlink" title="Merge two arrays"></a>Merge two arrays</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> characters = [<span class="string">"Frodo"</span>, <span class="string">"Aslan"</span>];</span><br><span class="line"><span class="keyword">var</span> title =  [<span class="string">"Lord of the Rings"</span>, <span class="string">"Chronicles of Narnia"</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">Array</span>.prototype.push.apply(characters, title);</span><br><span class="line"><span class="built_in">console</span>.log(characters); </span><br><span class="line"><span class="comment">// ["Frodo", "Aslan", "Lord of the Rings", "Chronicles of Narnia"]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> characterList = characters.concat(title);</span><br><span class="line"><span class="built_in">console</span>.log(characterList); </span><br><span class="line"><span class="comment">// ["Frodo", "Aslan", "Lord of the Rings", "Chronicles of Narnia"]</span></span><br></pre></td></tr></table></figure>
<p>두 배열을 하나의 배열로 만드는 방법 중 하나는 기존에 있던 배열에 새로운 배열을 추가하는 방법이 있습니다. 다른 하나는 두 배열을 합쳐 새로운 배열을 만드는 방법이 있습니다. 기존 배열에 추가를 할 때는Array.prototype.push.apply(thisArg, [argsArray])를 사용합니다. apply() 메소드는 주어진 this값과 arguments로 함수를 호출합니다. arguments에는 배열 또는 유사배열객체가 올 수 있으며 함수를 호출할때 입력된 이자가 담겨져 있습니다. 함수에 전달될 여러 개의 인자를 받는 call()구문과 유사합니다. <a href="http://devbox.tistory.com/entry/JavaScript-arguments%EC%9C%A0%EC%82%AC-%EB%B0%B0%EC%97%B4-%EA%B0%9D%EC%B2%B4" target="_blank" rel="external">arguments</a>가 유사배열이기 때문에 push()를 사용할 수가 없어서 Array.prototype에 있는 push()를 불러와야 합니다.</p>
<p>만약, 배열 안에 있는 문자열을 합치려면 +=, join(), concat()을 사용하시면 됩니다. <a href="https://www.codeschool.com/discuss/t/string-concatenation-join-v-v-concat/5307" target="_blank" rel="external">브라우저 속도 차이</a>가 있기 때문에 필요에 맞게 사용하시면 됩니다. 일반적으로는 += 를 사용하는 것이 성능상 좋다고 합니다.</p>
<p><a href="https://www.zerocho.com/category/Javascript/post/57433645a48729787807c3fd" target="_blank" rel="external">https://www.zerocho.com/category/Javascript/post/57433645a48729787807c3fd</a></p>
<h3 id="Converting-a-JS-object-to-an-array"><a href="#Converting-a-JS-object-to-an-array" class="headerlink" title="Converting a JS object to an array"></a>Converting a JS object to an array</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> charactersBooks = &#123;</span><br><span class="line">    Frodo: <span class="string">"Lord of the Rings"</span>,</span><br><span class="line">    Aslan: <span class="string">"Chronicles of Narnia"</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arrayCharacters = <span class="built_in">Object</span>.keys(charactersBooks).map(<span class="function"><span class="keyword">function</span>(<span class="params">key</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;[key]: charactersBooks[key]&#125;;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(arrayCharacters); <span class="comment">// [Object, Object]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> length = <span class="built_in">Object</span>.keys(arrayCharacters).length;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(length);</span><br></pre></td></tr></table></figure>
<p>지금까지 객체의 key값과 value값을 가져와 각각의 빈 배열에 추가하는 방법을 알아봤습니다. 이제는 객체 전체를 배열로 한번에 전환하는 방법을 알아 보도록 하겠습니다. Object.keys().map()을 사용하시면 됩니다. Object.keys() 메소드는 객체의 열거할 수 있는 속성값이 담긴 배열을 리턴합니다. 리턴된 배열은 map()을 통해 조건에 부합하는 새로운 배열을 생성합니다. 이렇게 생선된 배열은 arrayCharacters로 정의된 변수에 저장됩니다. 아래는 map()을 사용해서 객체에 담긴 firstname과 lastname을 가져와 join()을 사용해서 fullname으로 출력하는 방법입니다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> persons = [</span><br><span class="line">    &#123;<span class="attr">firstname</span> : <span class="string">"Malcom"</span>, <span class="attr">lastname</span>: <span class="string">"Reynolds"</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">firstname</span> : <span class="string">"Kaylee"</span>, <span class="attr">lastname</span>: <span class="string">"Frye"</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">firstname</span> : <span class="string">"Jayne"</span>, <span class="attr">lastname</span>: <span class="string">"Cobb"</span>&#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getFullName</span>(<span class="params">item, index</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// join() method joins the elements of an array into a string, and returns the string.</span></span><br><span class="line">    <span class="keyword">var</span> fullname = [item.firstname,item.lastname].join(<span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">return</span> fullname;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunction</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">"demo"</span>).innerHTML = persons.map(getFullName);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="Creating-an-array-of-objects"><a href="#Creating-an-array-of-objects" class="headerlink" title="Creating an array of objects"></a>Creating an array of objects</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> journal = [];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addEntry</span>(<span class="params">events, didITurnIntoASquirrel</span>) </span>&#123;</span><br><span class="line">	journal.push(&#123;</span><br><span class="line">		events: events,</span><br><span class="line">		squirrel: didITurnIntoASquirrel</span><br><span class="line">	&#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">addEntry([<span class="string">"work"</span>, <span class="string">"touched tree"</span>, <span class="string">"pizza"</span>, <span class="string">"running"</span>, <span class="string">"television"</span>], <span class="literal">false</span>);</span><br><span class="line">addEntry([<span class="string">"work"</span>, <span class="string">"touched tree"</span>, <span class="string">"pizza"</span>, <span class="string">"running"</span>, <span class="string">"television"</span>], <span class="literal">false</span>);</span><br></pre></td></tr></table></figure>
<h3 id="객체복사하기"><a href="#객체복사하기" class="headerlink" title="객체복사하기"></a>객체복사하기</h3><p>자바스크립트에서 객체는 일반 문자열, 숫자, 불린과 다르게 복사가 됩니다. 값을 복사하는게 아니라 참조하기 때문입니다. 즉, 하나의 객체를 여러개의 변수가 바라보고 있기 때문에 객체를 수정할 경우 모든 변수에 영향을 줍니다. 이것을 얕은복사라고 합니다. 두 개의 객체를 메모리에 할당하는 것을 깊은복사라고 합니다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// extend 얕은복사</span><br><span class="line">var copiedObject = jQuery.extend(&#123;&#125;, originalObject)</span><br><span class="line">// extend 깊은복사</span><br><span class="line">var copiedObject = jQuery.extend(true, &#123;&#125;, originalObject)</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> array = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>];</span><br><span class="line"><span class="keyword">var</span> deep = <span class="built_in">Array</span>.prototype.slice.call(array);</span><br><span class="line">deep[<span class="number">0</span>] = <span class="string">'d'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(array); <span class="comment">// ['a', 'b', 'c']</span></span><br></pre></td></tr></table></figure>
<p>참고</p>
<ul>
<li><a href="http://blog.kazikai.net/?p=16" target="_blank" rel="external">http://blog.kazikai.net/?p=16</a></li>
<li><a href="https://www.zerocho.com/category/Javascript/post/5750d384b73ae5152792188d" target="_blank" rel="external">https://www.zerocho.com/category/Javascript/post/5750d384b73ae5152792188d</a></li>
<li><a href="https://hyunseob.github.io/2016/02/08/copy-object-in-javascript/" target="_blank" rel="external">https://hyunseob.github.io/2016/02/08/copy-object-in-javascript/</a></li>
</ul>

        </section>

        
            <section class="post-copyright">
                
                    <p class="copyright-item">
                        <span>Author:</span>
                        <span>Ryan Lee</span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>Permalink:</span>
                        <span><a href="https://shlee1353.github.io/2017/11/15/JS-Data-Management/">https://shlee1353.github.io/2017/11/15/JS-Data-Management/</a></span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>License:</span>
                        <span>Copyright (c) 2019 <a href="http://creativecommons.org/licenses/by-nc/4.0/">CC-BY-NC-4.0</a> LICENSE</span>
                    </p>
                
                
                     <p class="copyright-item">
                         <span>Slogan:</span>
                         <span>Do you believe in <strong>DESTINY<strong>?</span>
                     </p>
                

            </section>
        
        <section class="post-tags">
            <div>
                <span>Tag(s):</span>
                <span class="tag">
                    
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">back</a>
                <span>· </span>
                <a href="/">home</a>
            </div>
        </section>
        <section class="post-nav">
            
                <a class="prev" rel="prev" href="/2017/11/15/Angular-Lifecycle-Hooks/">[앵귤러] 라이프사이클 이해하기</a>
            
            
        </section>


    </article>
</div>

        </div>
        <footer id="footer" class="footer">
    <div class="copyright">
        <span>© Ryan Lee | Powered by <a href="https://hexo.io" target="_blank">Hexo</a> & <a href="https://github.com/Sirice19/hexo-theme-Chic" target="_blank">Chic</a></span>
    </div>
</footer>
    </div>
</body>
</html>